<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_65) on Sun Jan 18 13:25:57 CET 2015 -->
<title>WebCrawler</title>
<meta name="date" content="2015-01-18">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="WebCrawler";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WebCrawler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../ir/control/SearchHandler.html" title="class in ir.control"><span class="strong">Prev Class</span></a></li>
<li><a href="../../ir/control/WebCrawler.CrawlerThread.html" title="class in ir.control"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?ir/control/WebCrawler.html" target="_top">Frames</a></li>
<li><a href="WebCrawler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ir.control</div>
<h2 title="Class WebCrawler" class="title">Class WebCrawler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ir.control.WebCrawler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">WebCrawler</span>
extends java.lang.Object</pre>
<div class="block">WebCrawler class, allowing to crawl over a list of seeds, with a given crawling depth
 and using or not, an existing index. 
 <p>
 It is a singleton. This design decision allows it to keep a consistent state.
 <p>
 It uses several helper threads of a nested runnable class called CrawlerThreads.
 Each one crawls a specific set of hosts (which are assigned by the main thread, running the innerCrawl function), 
 with a wait time between requests to the same host.
 <p>
 The WebCrawler object acts as manager, loading/creating the index and starting/restarting the threads to run 
 over the seeds and newly found URLs. Additionally it oversees the assignment of hostnames to threads, and the
 checking of URLs before visiting.
 <p>
 The processing overall begins with the Main Thread loading the lists of visited and excluded pages. Then, it validates
 that the seeds are correct and visits the first one, indexing it. This visit is distinguished from others, because if 
 an index must be created, it is done at this point. After visiting the first page, the main thread extracts from it
 a set of normalized tentativeUrls. Then it further checks them and adds them to a queue of sorts, called nextUrls.
 <p>
 Then it starts threads, assigning each one to a hostname from nextUrls, so each helper thread can index a page and 
 in turn extract a set of normalized tentativeUrls from each page. 
 <p>
 Then these are then checked by the main thread (WebCrawler), and inserted in nextUrls. 
 <p>
 This queue can then be scanned by each helper thread, in search of URLs from their assigned hostnames. 
<p>
 More specifically the helper threads themselves request a connection to a host, in order to get a page from each URL (using Jsoup)
 and/or to get a robots.txt file for complying with exclusion requests from servers. 
 They index the pages found (using a Lucene Index), and according to depth restrictions, they crawl outlinks, 
 adding them to the list of tentativeUrls. 
 They also mark each page as visited. To do this they remove it from the queue of nextUrls and insert it into
 a list called visitedUrls.
 <p>
 The processing stops in the main thread when all threads are finished and the lists for tentativeUrls and nextUrls are empty. 
 Then the thread joins the helper threads.
 <p>
 In general, before attempting to access a URLs from a list, we carry out the following 5 steps:
                                1) check if they are repeated in the current list or when joined with another list, 
                                2) check if they are already visited,
                                3) normalize them: in our code, this means to remove text preceeded by ?,#, javascript:, " ", and checking
                                   for malformed exceptions for urls.
                                4) check if they are valid &
                                5) check if they are to be excluded.*This has to be done in the updated list.
 <p>
 Support for interacting with servers using the robots.txt protocol is provided, although in a very 
 simple way, and not parsing complex disallow expressions that use wildcards, such as 
                                                                             "Disallow: /?This#Line%20/*+*OrThis"
 <p>
 By accessing the source code, the VERBOSE and DEBUG_MODE flags can be changed so as to print status
 messages during the run.
 <p>
  Some suggestions for future work:
  <p>
  ADD URL VALIDATION. This refers to: 
     
           A validation of the URL itself. This refers to a path been exceedingly long, or a bot trap
     which can be seen in the form of the URL. This could be done in a function that is called
     isValid, set up below. Other verifications could be easily embedded by using this function.
     Other forms of validation could also be added as part of the normalization processing.
  <p>   
     Avoiding bot traps in other forms.
  <p>
  STORE AND USE STATS:
     As part of this validation analysis, it could also be suggested to develop an object for storing
     providing, and using Stats about the crawling. 
  <p>
  IMPROVE PARSING OF ROBOTS.TXT FILE. AVOID EXCEPTION WHEN ROBOTS.TXT NOT FOUND.
  <p>
  MORE INTERACTIVE HANDLING OF THE "NO INDEX FOUND IN DIRECTORY" SCENARIO:
        As it is, only a System.out message is shown. This could be improved via the GUI.
  <p>
  LOAD BALANCING TO DISTRIBUTE THE WORK AMONG THE THREADS
  <p>
  ADDING COMPRESSION AND FORMATTING TO VISITED AND EXCLUDED FILES, SO AS TO REDUCE RUNTIME FOR LOADING THEM
  <p>
  IMPROVEMENTS TO QUERY AND INDEXING, SO AS TO SUPPORT SEARCH WITHIN A SPECIFIC SITE, AMONG OTHER OPTIONS.
  <p>
  PERFORM MORE TESTS OF THE CHECK FAIL-SAFE PROPERTIES OF ERRORS WHILE VISITING THE FIRST URL IN THE SEEDS LIST.
                These properties are present in the remaining URLS, as they are handled in helper threads.    
 <p>
  ADD MORE SITE-SPECIFIC CHECKS FOR DUPLICATE PAGES. THIS COULD BE DONE IN THE isVisited FUNCTION, FOLLOWING OUR
  APPROACH FOR STACKOVERFLOW. ADDITIONALLY THE SAME COULD BE DONE FOR NORMALIZING.
  <p>
  IMPROVE USE OF LUCENE LOCKS TO AVOID org.apache.lucene.store.LockObtainFailedExceptions AND THUS AVOID STALLS OR NOT
  INDEXING OF SOME PAGES.
  <p>
  WORK ON SITE INDPENDENT DUPLICATE URL OR PAGE DETECTION
  <p>
  LIST ALL PAGES NOT INDEXED BECAUSE OF EXCEPTIONS, NEXT TO THE EXCEPTIONS FOR FURTHER ANALYSIS ON THE CAUSES AND IMPROVEMENTS
  <p>
  IMPROVE THE PROGRAMMING LANGUAGE DETECTION
        So far our program just searches for the name of some programming languages in the content. If it finds any then it adds
        a programming language field and boosts it by 1.5. The benefits of this have not been fully tested. Additionally this 
        might be improved with better detection mechanisms, and a more complete domain description.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Gabriel, Rene</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.CrawlerThread.html" title="class in ir.control">WebCrawler.CrawlerThread</a></strong></code>
<div class="block">CrawlerThread class implementing Runnable.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#currentIndexFolder">currentIndexFolder</a></strong></code>
<div class="block">Current index folder.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#DEBUG_MODE">DEBUG_MODE</a></strong></code>
<div class="block">For debugging and studied runs.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#DEFAULT_INDEX_FOLDER">DEFAULT_INDEX_FOLDER</a></strong></code>
<div class="block">Name of location for default index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#EXCLUDED_FILE">EXCLUDED_FILE</a></strong></code>
<div class="block">Name of excluded file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.List&lt;java.net.URL&gt;</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#excludedUrls">excludedUrls</a></strong></code>
<div class="block">List of excluded URLs, built by complying with robots.txt standard.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#excludedUrls_lock">excludedUrls_lock</a></strong></code>
<div class="block">Lock for synchronized access to excludedUrls</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.String,java.lang.Integer&gt;</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#hostIndex">hostIndex</a></strong></code>
<div class="block">Map to connect hostname to index of specialized thread, in charge of visiting pages in this domain.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#index_lock">index_lock</a></strong></code>
<div class="block">Lock for granting all threads concurrent access to the stored index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../ir/control/WebCrawler.html" title="class in ir.control">WebCrawler</a></code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#instance">instance</a></strong></code>
<div class="block">Singleton instance of type WebCrawler</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#isCrawling">isCrawling</a></strong></code>
<div class="block">Flag that indicates if the system is currently crawling.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#MAX_NUM_THREADS">MAX_NUM_THREADS</a></strong></code>
<div class="block">Maximum number of threads.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#maxCrawlDepth">maxCrawlDepth</a></strong></code>
<div class="block">Maximum crawl depth for a given run.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#MINIMUM_DOC_LENGTH_FOR_INDEXING">MINIMUM_DOC_LENGTH_FOR_INDEXING</a></strong></code>
<div class="block">Minimum document length for indexing.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../../ir/model/ItemUrl.html" title="class in ir.model">ItemUrl</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#nextUrls">nextUrls</a></strong></code>
<div class="block">Pool of validated URLs for crawling.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#nextUrls_lock">nextUrls_lock</a></strong></code>
<div class="block">Lock for synchronized access to nextUrls</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Random</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#rand">rand</a></strong></code>
<div class="block">Seed for randomization</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#REFERRER">REFERRER</a></strong></code>
<div class="block">Referrer name, for Jsoup.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../../ir/model/ItemUrl.html" title="class in ir.model">ItemUrl</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#tentativeUrls">tentativeUrls</a></strong></code>
<div class="block">Pool of URLs that could be used, tentatively, for crawling.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#tentativeUrls_lock">tentativeUrls_lock</a></strong></code>
<div class="block">Lock for synchronized access to tentativeUrls</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../../ir/control/WebCrawler.CrawlerThread.html" title="class in ir.control">WebCrawler.CrawlerThread</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#threads">threads</a></strong></code>
<div class="block">Thread in charge of the crawling.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#USER_AGENT">USER_AGENT</a></strong></code>
<div class="block">User agent name, for Jsoup.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#usingNonDefaultIndex">usingNonDefaultIndex</a></strong></code>
<div class="block">Flag that indicates if the system uses a non-default index.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#VERBOSE">VERBOSE</a></strong></code>
<div class="block">For debugging and studied runs.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#VISITED_FILE">VISITED_FILE</a></strong></code>
<div class="block">Name of visited file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.List&lt;java.net.URL&gt;</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#visitedUrls">visitedUrls</a></strong></code>
<div class="block">List of visited URLs</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#visitedUrls_lock">visitedUrls_lock</a></strong></code>
<div class="block">Lock for synchronized access to visitedUrls</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#WAIT_TIME_IN_MILLISECONDS_MAIN_THREAD">WAIT_TIME_IN_MILLISECONDS_MAIN_THREAD</a></strong></code>
<div class="block">Wait time for main thread before attempting to join an apparently idle thread and then restart it.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#WAIT_TIME_IN_MILLISECONDS_THREADS">WAIT_TIME_IN_MILLISECONDS_THREADS</a></strong></code>
<div class="block">Wait time for each thread between requests to a host.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#WebCrawler()">WebCrawler</a></strong>()</code>
<div class="block">Protected constructor function, to defeat instantiation.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../../ir/model/ItemUrl.html" title="class in ir.model">ItemUrl</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#cleanUrlList(java.util.List)">cleanUrlList</a></strong>(java.util.List&lt;<a href="../../ir/model/ItemUrl.html" title="class in ir.model">ItemUrl</a>&gt;&nbsp;list)</code>
<div class="block">Helper function that takes a list of ItemUrl and returns a list without repeated ItemURL.urls,
 storing only the one with lowest depth (as this has a higher coverage, causing more crawling).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#crawl(java.util.List,%20int,%20java.lang.String,%20boolean)">crawl</a></strong>(java.util.List&lt;java.net.URL&gt;&nbsp;seeds,
     int&nbsp;crawlDepth,
     java.lang.String&nbsp;indexFolderAddress,
     boolean&nbsp;resetIndex)</code>
<div class="block">Function to monitor the crawling for exceptions, and keep consistency.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#getCurrentIndex()">getCurrentIndex</a></strong>()</code>
<div class="block">Function to get the location of the current index</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#getExcludedPages(java.lang.String)">getExcludedPages</a></strong>(java.lang.String&nbsp;address)</code>
<div class="block">Function to get list of excluded pages</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#getFreeThread()">getFreeThread</a></strong>()</code>
<div class="block">Function to retrieve the position of the first free thread, if any
 Note: Uses isBusy_lock from all existing threads.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../ir/control/WebCrawler.html" title="class in ir.control">WebCrawler</a></code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#getInstance()">getInstance</a></strong>()</code>
<div class="block">getInstance function, for singleton use</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#getUsingNonDefaultIndex()">getUsingNonDefaultIndex</a></strong>()</code>
<div class="block">Function to check if crawler is using a non-default index</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#getVisitedPages(java.lang.String)">getVisitedPages</a></strong>(java.lang.String&nbsp;address)</code>
<div class="block">Function to get list of visited pages</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#innerCrawl(java.util.List,%20int,%20java.lang.String,%20boolean)">innerCrawl</a></strong>(java.util.List&lt;java.net.URL&gt;&nbsp;seeds,
          int&nbsp;crawlDepth,
          java.lang.String&nbsp;indexFolderAddress,
          boolean&nbsp;resetIndex)</code>
<div class="block">Function that implements the crawling over a set of seeds</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#isCrawling()">isCrawling</a></strong>()</code>
<div class="block">Function to assert if crawler is busy crawling</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#isExcluded(java.net.URL)">isExcluded</a></strong>(java.net.URL&nbsp;pageLink)</code>
<div class="block">Function to check if a URL has been marked as excluded</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#isValid(java.net.URL)">isValid</a></strong>(java.net.URL&nbsp;pageLink)</code>
<div class="block">Function to check if a URL is valid
 
 At this point the function only returns true, but it's left as an easy alternative
 for embedding additional URL verifications, in the future.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#isVisited(java.net.URL)">isVisited</a></strong>(java.net.URL&nbsp;pageLink)</code>
<div class="block">Function to check if a URL has been visited
 Note: Uses visitedUrls_lock
 Additionally we perform some special checks so as to prevent visiting the same page when it has different URLS.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#isVisitedHost(java.net.URL)">isVisitedHost</a></strong>(java.net.URL&nbsp;pageLink)</code>
<div class="block">Function to check if a URLs host has been visited.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#markAsVisited(java.net.URL)">markAsVisited</a></strong>(java.net.URL&nbsp;pageLink)</code>
<div class="block">Function to mark a URL as visited, using locks
 Note: Uses visitedUrls_lock</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../../ir/model/ItemUrl.html" title="class in ir.model">ItemUrl</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#removeExcluded(java.util.List,%20java.util.List)">removeExcluded</a></strong>(java.util.List&lt;<a href="../../ir/model/ItemUrl.html" title="class in ir.model">ItemUrl</a>&gt;&nbsp;nextUrls2,
              java.util.List&lt;java.net.URL&gt;&nbsp;visitedUrls2)</code>
<div class="block">Helper function that takes a list of nextUrls and returns a list with the same items, but
 without excluded URLs, according to the visitedUrls2 list passed as input.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.List&lt;java.net.URL&gt;</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#removeIfExistsInOtherList(java.util.List,%20java.util.List)">removeIfExistsInOtherList</a></strong>(java.util.List&lt;java.net.URL&gt;&nbsp;list,
                         java.util.List&lt;java.net.URL&gt;&nbsp;blocked)</code>
<div class="block">Helper function that removes elements from one list if they exist in another list</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.List&lt;java.net.URL&gt;</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#removeRepeated(java.util.List)">removeRepeated</a></strong>(java.util.List&lt;java.net.URL&gt;&nbsp;list)</code>
<div class="block">Helper function that removes repeated URLs from a list</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../../ir/model/ItemUrl.html" title="class in ir.model">ItemUrl</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#removeVisited(java.util.List,%20java.util.List)">removeVisited</a></strong>(java.util.List&lt;<a href="../../ir/model/ItemUrl.html" title="class in ir.model">ItemUrl</a>&gt;&nbsp;nextUrls2,
             java.util.List&lt;java.net.URL&gt;&nbsp;visitedUrls2)</code>
<div class="block">Helper function that takes a list of nextUrls and returns a list with the same items, but
 without visited URLs, according to the visitedUrls2 list passed as input.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#setNewIndex(java.lang.String)">setNewIndex</a></strong>(java.lang.String&nbsp;index)</code>
<div class="block">Function that allows to set the location for a new index
 Can pass "DEFAULT" to set it to default location.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../ir/control/WebCrawler.html#threadsBusy()">threadsBusy</a></strong>()</code>
<div class="block">Function similar to getFreeThread.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="instance">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>instance</h4>
<pre>private static&nbsp;<a href="../../ir/control/WebCrawler.html" title="class in ir.control">WebCrawler</a> instance</pre>
<div class="block">Singleton instance of type WebCrawler</div>
</li>
</ul>
<a name="VERBOSE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VERBOSE</h4>
<pre>private static&nbsp;boolean VERBOSE</pre>
<div class="block">For debugging and studied runs. It requests the class to print some status messages. As shipped its value is true. This
 establishes the message that will be printed during the crawling proceeds.</div>
</li>
</ul>
<a name="DEBUG_MODE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEBUG_MODE</h4>
<pre>private static&nbsp;boolean DEBUG_MODE</pre>
<div class="block">For debugging and studied runs. It requests the class to print additional status messages. As shipped its value is false.</div>
</li>
</ul>
<a name="MAX_NUM_THREADS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_NUM_THREADS</h4>
<pre>private static&nbsp;int MAX_NUM_THREADS</pre>
<div class="block">Maximum number of threads. By default 100.</div>
</li>
</ul>
<a name="MINIMUM_DOC_LENGTH_FOR_INDEXING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MINIMUM_DOC_LENGTH_FOR_INDEXING</h4>
<pre>private static&nbsp;int MINIMUM_DOC_LENGTH_FOR_INDEXING</pre>
<div class="block">Minimum document length for indexing. By default 20.</div>
</li>
</ul>
<a name="WAIT_TIME_IN_MILLISECONDS_THREADS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WAIT_TIME_IN_MILLISECONDS_THREADS</h4>
<pre>private static&nbsp;int WAIT_TIME_IN_MILLISECONDS_THREADS</pre>
<div class="block">Wait time for each thread between requests to a host. By default 500 milliseconds.</div>
</li>
</ul>
<a name="WAIT_TIME_IN_MILLISECONDS_MAIN_THREAD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WAIT_TIME_IN_MILLISECONDS_MAIN_THREAD</h4>
<pre>private static&nbsp;int WAIT_TIME_IN_MILLISECONDS_MAIN_THREAD</pre>
<div class="block">Wait time for main thread before attempting to join an apparently idle thread and then restart it. By default 500 milliseconds.</div>
</li>
</ul>
<a name="VISITED_FILE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VISITED_FILE</h4>
<pre>private static&nbsp;java.lang.String VISITED_FILE</pre>
<div class="block">Name of visited file. By default visited.txt</div>
</li>
</ul>
<a name="EXCLUDED_FILE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EXCLUDED_FILE</h4>
<pre>private static&nbsp;java.lang.String EXCLUDED_FILE</pre>
<div class="block">Name of excluded file. By default excluded.txt</div>
</li>
</ul>
<a name="DEFAULT_INDEX_FOLDER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_INDEX_FOLDER</h4>
<pre>private static&nbsp;java.lang.String DEFAULT_INDEX_FOLDER</pre>
<div class="block">Name of location for default index. By default the folder default_index</div>
</li>
</ul>
<a name="USER_AGENT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>USER_AGENT</h4>
<pre>private static&nbsp;java.lang.String USER_AGENT</pre>
<div class="block">User agent name, for Jsoup. This prevents some exceptions. By default: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.152 Safari/537.36.</div>
</li>
</ul>
<a name="REFERRER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>REFERRER</h4>
<pre>private static&nbsp;java.lang.String REFERRER</pre>
<div class="block">Referrer name, for Jsoup. This prevents some exceptions. By default: http://www.google.com</div>
</li>
</ul>
<a name="rand">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rand</h4>
<pre>private&nbsp;java.util.Random rand</pre>
<div class="block">Seed for randomization</div>
</li>
</ul>
<a name="currentIndexFolder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentIndexFolder</h4>
<pre>private&nbsp;java.lang.String currentIndexFolder</pre>
<div class="block">Current index folder.</div>
</li>
</ul>
<a name="usingNonDefaultIndex">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>usingNonDefaultIndex</h4>
<pre>private&nbsp;boolean usingNonDefaultIndex</pre>
<div class="block">Flag that indicates if the system uses a non-default index.</div>
</li>
</ul>
<a name="isCrawling">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCrawling</h4>
<pre>private&nbsp;boolean isCrawling</pre>
<div class="block">Flag that indicates if the system is currently crawling.</div>
</li>
</ul>
<a name="maxCrawlDepth">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxCrawlDepth</h4>
<pre>private&nbsp;int maxCrawlDepth</pre>
<div class="block">Maximum crawl depth for a given run.</div>
</li>
</ul>
<a name="tentativeUrls">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tentativeUrls</h4>
<pre>private&nbsp;java.util.List&lt;<a href="../../ir/model/ItemUrl.html" title="class in ir.model">ItemUrl</a>&gt; tentativeUrls</pre>
<div class="block">Pool of URLs that could be used, tentatively, for crawling. They are stored as elements of type ItemUrl, so they can be grouped with their depth.</div>
</li>
</ul>
<a name="tentativeUrls_lock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tentativeUrls_lock</h4>
<pre>private&nbsp;java.lang.Object tentativeUrls_lock</pre>
<div class="block">Lock for synchronized access to tentativeUrls</div>
</li>
</ul>
<a name="nextUrls">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextUrls</h4>
<pre>private&nbsp;java.util.List&lt;<a href="../../ir/model/ItemUrl.html" title="class in ir.model">ItemUrl</a>&gt; nextUrls</pre>
<div class="block">Pool of validated URLs for crawling. They are stored as elements of type ItemUrl, so they can be grouped with their depth.</div>
</li>
</ul>
<a name="nextUrls_lock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextUrls_lock</h4>
<pre>private&nbsp;java.lang.Object nextUrls_lock</pre>
<div class="block">Lock for synchronized access to nextUrls</div>
</li>
</ul>
<a name="visitedUrls">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>visitedUrls</h4>
<pre>private&nbsp;java.util.List&lt;java.net.URL&gt; visitedUrls</pre>
<div class="block">List of visited URLs</div>
</li>
</ul>
<a name="visitedUrls_lock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>visitedUrls_lock</h4>
<pre>private&nbsp;java.lang.Object visitedUrls_lock</pre>
<div class="block">Lock for synchronized access to visitedUrls</div>
</li>
</ul>
<a name="excludedUrls">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>excludedUrls</h4>
<pre>private&nbsp;java.util.List&lt;java.net.URL&gt; excludedUrls</pre>
<div class="block">List of excluded URLs, built by complying with robots.txt standard.</div>
</li>
</ul>
<a name="excludedUrls_lock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>excludedUrls_lock</h4>
<pre>private&nbsp;java.lang.Object excludedUrls_lock</pre>
<div class="block">Lock for synchronized access to excludedUrls</div>
</li>
</ul>
<a name="index_lock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>index_lock</h4>
<pre>private&nbsp;java.lang.Object index_lock</pre>
<div class="block">Lock for granting all threads concurrent access to the stored index.</div>
</li>
</ul>
<a name="hostIndex">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hostIndex</h4>
<pre>private&nbsp;java.util.Map&lt;java.lang.String,java.lang.Integer&gt; hostIndex</pre>
<div class="block">Map to connect hostname to index of specialized thread, in charge of visiting pages in this domain.</div>
</li>
</ul>
<a name="threads">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>threads</h4>
<pre>private&nbsp;java.util.List&lt;<a href="../../ir/control/WebCrawler.CrawlerThread.html" title="class in ir.control">WebCrawler.CrawlerThread</a>&gt; threads</pre>
<div class="block">Thread in charge of the crawling.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="WebCrawler()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>WebCrawler</h4>
<pre>protected&nbsp;WebCrawler()</pre>
<div class="block">Protected constructor function, to defeat instantiation.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../ir/control/WebCrawler.html" title="class in ir.control">WebCrawler</a>&nbsp;getInstance()</pre>
<div class="block">getInstance function, for singleton use</div>
</li>
</ul>
<a name="crawl(java.util.List, int, java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>crawl</h4>
<pre>public&nbsp;void&nbsp;crawl(java.util.List&lt;java.net.URL&gt;&nbsp;seeds,
         int&nbsp;crawlDepth,
         java.lang.String&nbsp;indexFolderAddress,
         boolean&nbsp;resetIndex)
           throws java.lang.InterruptedException</pre>
<div class="block">Function to monitor the crawling for exceptions, and keep consistency. It launches the crawling by calling the private function
 innerCrawl, where the crawling is actually carried out.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>seeds</code> - list of URLs corresponding to non-validated seeds. They are already checked for MalformedExpression.</dd><dd><code>crawlDepth</code> - crawling depth</dd><dd><code>indexFolderAddress</code> - index location</dd><dd><code>resetIndex</code> - boolean flag indicating if the crawler should reset or create the index</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd></dl>
</li>
</ul>
<a name="innerCrawl(java.util.List, int, java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>innerCrawl</h4>
<pre>private&nbsp;void&nbsp;innerCrawl(java.util.List&lt;java.net.URL&gt;&nbsp;seeds,
              int&nbsp;crawlDepth,
              java.lang.String&nbsp;indexFolderAddress,
              boolean&nbsp;resetIndex)
                 throws java.lang.InterruptedException</pre>
<div class="block">Function that implements the crawling over a set of seeds</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>seeds</code> - list of URLs corresponding to non-validated seeds. They are already checked for MalformedExpression.</dd><dd><code>crawlDepth</code> - crawling depth</dd><dd><code>indexFolderAddress</code> - index location</dd><dd><code>resetIndex</code> - boolean flag indicating if the crawler should reset or create the index</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd></dl>
</li>
</ul>
<a name="isCrawling()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCrawling</h4>
<pre>public&nbsp;boolean&nbsp;isCrawling()</pre>
<div class="block">Function to assert if crawler is busy crawling</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if crawler is busy, otherwise false.</dd></dl>
</li>
</ul>
<a name="getCurrentIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentIndex</h4>
<pre>public&nbsp;java.lang.String&nbsp;getCurrentIndex()</pre>
<div class="block">Function to get the location of the current index</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>string with current index</dd></dl>
</li>
</ul>
<a name="setNewIndex(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNewIndex</h4>
<pre>public&nbsp;void&nbsp;setNewIndex(java.lang.String&nbsp;index)</pre>
<div class="block">Function that allows to set the location for a new index
 Can pass "DEFAULT" to set it to default location.
 As shipped the default location is "default_index".</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>index</code> - string with location of new index. Can pass "DEFAULT" to set it to default location.
 As shipped the default location is "default_index".</dd></dl>
</li>
</ul>
<a name="getUsingNonDefaultIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUsingNonDefaultIndex</h4>
<pre>public&nbsp;boolean&nbsp;getUsingNonDefaultIndex()</pre>
<div class="block">Function to check if crawler is using a non-default index</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if crawler is using non-default index, otherwise false.</dd></dl>
</li>
</ul>
<a name="getVisitedPages(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVisitedPages</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getVisitedPages(java.lang.String&nbsp;address)</pre>
<div class="block">Function to get list of visited pages</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>address</code> - index location</dd>
<dt><span class="strong">Returns:</span></dt><dd>array list of type string with list of visited pages in alphabetical order. This list can be empty.</dd></dl>
</li>
</ul>
<a name="getExcludedPages(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExcludedPages</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getExcludedPages(java.lang.String&nbsp;address)</pre>
<div class="block">Function to get list of excluded pages</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>address</code> - index location</dd>
<dt><span class="strong">Returns:</span></dt><dd>array list of type string with list of excluded pages in alphabetical order. This list can be empty.</dd></dl>
</li>
</ul>
<a name="isExcluded(java.net.URL)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isExcluded</h4>
<pre>private&nbsp;boolean&nbsp;isExcluded(java.net.URL&nbsp;pageLink)</pre>
<div class="block">Function to check if a URL has been marked as excluded</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pageLink</code> - url of page to check</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if url appears in excluded list, otherwise false.</dd></dl>
</li>
</ul>
<a name="isValid(java.net.URL)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isValid</h4>
<pre>private&nbsp;boolean&nbsp;isValid(java.net.URL&nbsp;pageLink)</pre>
<div class="block">Function to check if a URL is valid
 
 At this point the function only returns true, but it's left as an easy alternative
 for embedding additional URL verifications, in the future.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pageLink</code> - url of page to check</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if url is valid, false otherwise. As shipped, it is always true.</dd></dl>
</li>
</ul>
<a name="removeIfExistsInOtherList(java.util.List, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeIfExistsInOtherList</h4>
<pre>private&nbsp;java.util.List&lt;java.net.URL&gt;&nbsp;removeIfExistsInOtherList(java.util.List&lt;java.net.URL&gt;&nbsp;list,
                                                     java.util.List&lt;java.net.URL&gt;&nbsp;blocked)</pre>
<div class="block">Helper function that removes elements from one list if they exist in another list</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>list</code> - list from which elements will be removed</dd><dd><code>blocked</code> - list of elements that should be removed from former list</dd>
<dt><span class="strong">Returns:</span></dt><dd>array list of type URL, with cleaned-up urls. This list can be empty.</dd></dl>
</li>
</ul>
<a name="removeRepeated(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeRepeated</h4>
<pre>private&nbsp;java.util.List&lt;java.net.URL&gt;&nbsp;removeRepeated(java.util.List&lt;java.net.URL&gt;&nbsp;list)</pre>
<div class="block">Helper function that removes repeated URLs from a list</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>list</code> - list from which urls should be removed</dd>
<dt><span class="strong">Returns:</span></dt><dd>array list of type URL, with cleaned-up urls. This list can be empty.</dd></dl>
</li>
</ul>
<a name="cleanUrlList(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanUrlList</h4>
<pre>private&nbsp;java.util.List&lt;<a href="../../ir/model/ItemUrl.html" title="class in ir.model">ItemUrl</a>&gt;&nbsp;cleanUrlList(java.util.List&lt;<a href="../../ir/model/ItemUrl.html" title="class in ir.model">ItemUrl</a>&gt;&nbsp;list)</pre>
<div class="block">Helper function that takes a list of ItemUrl and returns a list without repeated ItemURL.urls,
 storing only the one with lowest depth (as this has a higher coverage, causing more crawling).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>list</code> - from which ItemUrls will be cleaned-up</dd>
<dt><span class="strong">Returns:</span></dt><dd>array list of type ItemUrl, with cleaned-up urls. This list can be empty.</dd></dl>
</li>
</ul>
<a name="removeVisited(java.util.List, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeVisited</h4>
<pre>private&nbsp;java.util.List&lt;<a href="../../ir/model/ItemUrl.html" title="class in ir.model">ItemUrl</a>&gt;&nbsp;removeVisited(java.util.List&lt;<a href="../../ir/model/ItemUrl.html" title="class in ir.model">ItemUrl</a>&gt;&nbsp;nextUrls2,
                                    java.util.List&lt;java.net.URL&gt;&nbsp;visitedUrls2)</pre>
<div class="block">Helper function that takes a list of nextUrls and returns a list with the same items, but
 without visited URLs, according to the visitedUrls2 list passed as input.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>nextUrls2</code> - </dd><dd><code>visitedUrls2</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>array list of type ItemUrl, with cleaned-up urls. This list can be empty.</dd></dl>
</li>
</ul>
<a name="removeExcluded(java.util.List, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeExcluded</h4>
<pre>private&nbsp;java.util.List&lt;<a href="../../ir/model/ItemUrl.html" title="class in ir.model">ItemUrl</a>&gt;&nbsp;removeExcluded(java.util.List&lt;<a href="../../ir/model/ItemUrl.html" title="class in ir.model">ItemUrl</a>&gt;&nbsp;nextUrls2,
                                     java.util.List&lt;java.net.URL&gt;&nbsp;visitedUrls2)</pre>
<div class="block">Helper function that takes a list of nextUrls and returns a list with the same items, but
 without excluded URLs, according to the visitedUrls2 list passed as input.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>nextUrls2</code> - </dd><dd><code>visitedUrls2</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>array list of type ItemUrl, with cleaned-up urls. This list can be empty.</dd></dl>
</li>
</ul>
<a name="isVisited(java.net.URL)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isVisited</h4>
<pre>private&nbsp;boolean&nbsp;isVisited(java.net.URL&nbsp;pageLink)</pre>
<div class="block">Function to check if a URL has been visited
 Note: Uses visitedUrls_lock
 Additionally we perform some special checks so as to prevent visiting the same page when it has different URLS.
 But given that this is a very site-specific issue, we only include our approach for stackoverflow.com. Something
 similar could be done in the future for more sites. Our approach for stackoverflow.com could also be improved.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pageLink</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>true if url has been visited, false otherwise.</dd></dl>
</li>
</ul>
<a name="isVisitedHost(java.net.URL)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isVisitedHost</h4>
<pre>private&nbsp;boolean&nbsp;isVisitedHost(java.net.URL&nbsp;pageLink)</pre>
<div class="block">Function to check if a URLs host has been visited. This is used for not visiting a host several times while chekcing for robots.txt.
 Note: Uses visitedUrls_lock</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pageLink</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the host has has been visited, false otherwise.</dd></dl>
</li>
</ul>
<a name="markAsVisited(java.net.URL)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markAsVisited</h4>
<pre>private&nbsp;void&nbsp;markAsVisited(java.net.URL&nbsp;pageLink)</pre>
<div class="block">Function to mark a URL as visited, using locks
 Note: Uses visitedUrls_lock</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pageLink</code> - </dd></dl>
</li>
</ul>
<a name="getFreeThread()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFreeThread</h4>
<pre>private&nbsp;int&nbsp;getFreeThread()</pre>
<div class="block">Function to retrieve the position of the first free thread, if any
 Note: Uses isBusy_lock from all existing threads.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>position of free thread, -1 if all are busy or threads array is empty.</dd></dl>
</li>
</ul>
<a name="threadsBusy()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>threadsBusy</h4>
<pre>private&nbsp;boolean&nbsp;threadsBusy()</pre>
<div class="block">Function similar to getFreeThread. Checks if there is at least one busy thread.
 
 Note: Uses isBusy_lock from all existing threads.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if one thread is busy, false if all are free or threads array is empty.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WebCrawler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../ir/control/SearchHandler.html" title="class in ir.control"><span class="strong">Prev Class</span></a></li>
<li><a href="../../ir/control/WebCrawler.CrawlerThread.html" title="class in ir.control"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?ir/control/WebCrawler.html" target="_top">Frames</a></li>
<li><a href="WebCrawler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
